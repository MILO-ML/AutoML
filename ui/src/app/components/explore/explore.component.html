<ion-grid>
  <ion-row>
    <ion-col size-xs='12' size-lg='9' class='analysis' *ngIf='analysis'>
      <ion-grid>
        <ion-row>
          <ion-col size-xs='12' size-md='6'>
            <app-feature-details [label]='analysis.label' [data]='analysis.analysis.train' type='Training'></app-feature-details>
          </ion-col>
          <ion-col size-xs='12' size-md='6'>
            <app-feature-details [label]='analysis.label' [data]='analysis.analysis.test' type='Generalization'></app-feature-details>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-col>

    <ion-col size-xs='12' size-lg='3'>
      <h4 class='ion-text-center'>Runs</h4>

      <ion-button size='small'>
        <ion-icon slot='start' name='add'></ion-icon>
        New
      </ion-button>
      <table mat-table [dataSource]='jobs' matSort matSortDirection='desc'>
        <ng-container [matColumnDef]='column' *ngFor='let column of columns'>
          <th mat-header-cell *matHeaderCellDef mat-sort-header [class.ion-hide]='column === "actions"'>{{column}}</th>
          <td mat-cell *matCellDef='let element; let i = index'>
            <span *ngIf='column !== "actions"'>
              {{getValue(element, column)}}
            </span>
            <span *ngIf='column === "actions"' class='actions'>
              <ion-icon
                name='search' color='primary' size='small'
                (click)='viewResult(element.id)'
                [class.ion-hide]='element.hasResults'></ion-icon>
              <ion-icon
                name='document' color='primary' size='small'
                (click)='viewResult(element.id)'
                [class.ion-hide]='!element.hasResults'></ion-icon>
              <ion-icon
                name='trash' color='danger' size='small'
                (click)='viewResult(element.id)'></ion-icon>
            </span>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef='columns; sticky: true'></tr>
        <tr mat-row *matRowDef='let row; let i = index; columns: columns'></tr>
      </table>
    </ion-col>
  </ion-row>  
</ion-grid>
