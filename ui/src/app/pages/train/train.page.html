<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Train
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class='ion-padding ion-text-center'>
  <ion-card class='ion-padding' [hidden]='training'>
    <ion-card-header>
      <ion-card-subtitle>Select pipeline processors that you would like to enable</ion-card-subtitle>
      <ion-card-title>Pipeline Elements</ion-card-title>
    </ion-card-header>

    <div class='pipeline-selection' [formGroup]='trainForm'>
      <div formArrayName='estimators'>
        <h6>Estimators</h6>
        <mat-checkbox *ngFor='let estimator of pipelineProcessors.estimators; let i=index' [formControlName]='i'>{{estimator.label}}</mat-checkbox>
      </div>
      <div formArrayName='scalers'>
        <h6>Scalers</h6>
        <mat-checkbox *ngFor='let scaler of pipelineProcessors.scalers; let i=index' [formControlName]='i'>{{scaler.label}}</mat-checkbox>
      </div>
      <div formArrayName='featureSelectors'>
        <h6>Feature Selectors</h6>
        <mat-checkbox *ngFor='let featureSelector of pipelineProcessors.featureSelectors; let i=index' [formControlName]='i'>{{featureSelector.label}}</mat-checkbox>
      </div>
      <div formArrayName='searchers'>
        <h6>Searchers</h6>
        <mat-checkbox *ngFor='let searcher of pipelineProcessors.searchers; let i=index' [formControlName]='i'>{{searcher.label}}</mat-checkbox>
      </div>
      <div formArrayName='scorers'>
        <h6>Scorers</h6>
        <mat-checkbox *ngFor='let scorer of pipelineProcessors.scorers; let i=index' [formControlName]='i'>{{scorer.label}}</mat-checkbox>
      </div>
    </div>
  </ion-card>
  <ion-card class='all-pipelines'>
    <app-radial-dendrogram [data]='allPipelines'></app-radial-dendrogram>
  </ion-card>
  <br>
  <ion-spinner [hidden]='!training'></ion-spinner>
  <br>
  <ion-button expand='block' (click)='startTraining()' [hidden]='training' [disabled]='!trainForm.valid'>Start Training</ion-button>
</ion-content>
