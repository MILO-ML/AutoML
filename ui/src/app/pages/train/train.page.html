<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Train
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class='ion-padding'>
  <div *ngIf='uploadComplete && !results' class='ion-text-center'>
    <ion-card class='ion-padding' [hidden]='training'>
      <ion-card-header>
        <ion-card-subtitle>Select pipeline processors that you would like to enable</ion-card-subtitle>
        <ion-card-title>Pipeline Elements</ion-card-title>
      </ion-card-header>

      <div class='pipeline-selection' [formGroup]='trainForm'>
        <div formArrayName='estimators'>
          Estimators<br>
          <mat-checkbox *ngFor='let estimator of pipelineProcessors.estimators; let i=index' [formControlName]='i'>{{estimator.label}}</mat-checkbox>
        </div>
        <div formArrayName='scalers'>
          Scalers<br>
          <mat-checkbox *ngFor='let scaler of pipelineProcessors.scalers; let i=index' [formControlName]='i'>{{scaler.label}}</mat-checkbox>
        </div>
        <div formArrayName='featureSelectors'>
          Feature Selectors<br>
          <mat-checkbox *ngFor='let featureSelector of pipelineProcessors.featureSelectors; let i=index' [formControlName]='i'>{{featureSelector.label}}</mat-checkbox>
        </div>
        <div formArrayName='searchers'>
          Searchers<br>
          <mat-checkbox *ngFor='let searcher of pipelineProcessors.searchers; let i=index' [formControlName]='i'>{{searcher.label}}</mat-checkbox>
        </div>
        <div formArrayName='scorers'>
          Scorers<br>
          <mat-checkbox *ngFor='let scorer of pipelineProcessors.scorers; let i=index' [formControlName]='i'>{{scorer.label}}</mat-checkbox>
        </div>
      </div>
    </ion-card>
    <br>
    <ion-spinner [hidden]='!training'></ion-spinner>
    <br>
    <ion-button expand='block' (click)='startTraining()' [hidden]='training'>Start Training</ion-button>
  </div>

  <ion-card class='ion-text-center ion-padding' *ngIf='results'>
    <div class='ion-padding'>
      Training complete!
    </div>
    <ion-button routerLink='/results' [hidden]='!results'>View Results</ion-button>
  </ion-card>

  <ng-container *ngIf='!uploadComplete'>
    Please start by selecting your data on the home page
  </ng-container>
</ion-content>
